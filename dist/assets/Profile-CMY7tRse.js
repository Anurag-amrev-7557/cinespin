import{J as x,r as o,u as p,j as s,H as j,m as i}from"./index-D0-cOv4n.js";const f=()=>{const{user:t,loading:r,logout:c}=x(),[a,d]=o.useState({name:"",email:"",photoURL:"",watchHistory:[]}),n=p();o.useEffect(()=>{t&&d({name:t.displayName||"User",email:t.email||"Not available",photoURL:t.photoURL||"/download.svg",watchHistory:t.watchHistory||[]})},[t]);const h=()=>{c(),n("/login")};if(r)return s.jsx("div",{className:"loading-spinner",children:"Loading..."});const e={initial:{opacity:0,y:60},animate:{opacity:1,y:0,transition:{type:"spring",stiffness:350,damping:25,mass:1}},exit:{opacity:0,y:-60}};return o.useEffect(()=>{r||t||n("/")},[r,t,n]),s.jsxs("div",{className:"login-container",children:[a.name&&s.jsxs(j,{children:[s.jsxs("title",{children:[a.name,"'s Profile - Cinespin"]}),s.jsx("meta",{name:"description",content:`View ${a.name}'s profile, watch history, and account settings on Cinespin.`})]}),s.jsx("div",{className:"form-section",children:s.jsxs(i.div,{className:"form-content",...e,children:[s.jsxs(i.h1,{className:"form-title",...e,children:[s.jsx(i.span,{className:"text-highlight",...e,children:"Profile"})," ",s.jsx(i.span,{className:"text-muted",...e,children:"Page"})]}),s.jsxs(i.div,{className:"profile-photo-wrapper",...e,children:[s.jsx(i.div,{className:"profile-image",style:{backgroundImage:`url(${a.photoURL||"/download.svg"})`},...e}),s.jsxs(i.div,{className:"profile-info",...e,children:[s.jsx(i.h1,{...e,children:a.name}),s.jsx(i.p,{...e,children:a.email}),s.jsx(i.button,{className:"logout-button",onClick:h,...e,children:"Logout"})]})]}),s.jsxs(i.div,{className:"profile-content",...e,children:[s.jsx(i.h2,{...e,children:"Watch History"}),s.jsx(i.div,{className:"watch-history",...e,children:a.watchHistory.length===0?s.jsx(i.p,{...e,children:"No movies watched yet."}):s.jsx("ul",{className:"movie-list",children:a.watchHistory.map((l,m)=>s.jsxs("li",{className:"movie-item",children:[s.jsx("div",{className:"movie-poster-container",children:s.jsx("img",{src:l.posterURL,alt:l.title,className:"movie-poster"})}),s.jsxs("div",{className:"movie-details",children:[s.jsx("h3",{children:l.title}),s.jsx("p",{children:l.year})]})]},m))})}),s.jsxs(i.div,{className:"profile-settings",...e,children:[s.jsx(i.h2,{...e,children:"Settings"}),s.jsxs("ul",{className:"settings-list",children:[s.jsx("li",{children:s.jsx(i.button,{className:"settings-button",onClick:()=>n("/change-password"),...e,children:"Change Password"})}),s.jsx("li",{children:s.jsx(i.button,{className:"settings-button",onClick:()=>n("/update-profile"),...e,children:"Update Profile"})})]})]})]})]})}),s.jsx(i.div,{className:"pattern-section",...e,children:s.jsx(i.div,{className:"pattern-svg",...e,children:s.jsxs(i.svg,{viewBox:"0 0 400 800",xmlns:"http://www.w3.org/2000/svg",className:"pattern",...e,children:[s.jsxs(i.defs,{...e,children:[s.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#1E293B"}),s.jsx("stop",{offset:"50%",stopColor:"#334155"}),s.jsx("stop",{offset:"100%",stopColor:"#475569"})]}),s.jsxs("mask",{id:"mask",x:"0",y:"0",width:"100%",height:"100%",children:[s.jsx("rect",{width:"100%",height:"100%",fill:"white"}),s.jsx("circle",{cx:"200",cy:"400",r:"250",fill:"black"})]})]}),s.jsxs("g",{mask:"url(#mask)",children:[s.jsx(i.path,{d:"M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z",fill:"url(#gradient)",...e,children:s.jsx("animate",{attributeName:"d",dur:"12s",repeatCount:"indefinite",values:`
                    M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z;
                    M0,800 C100,600 200,700 300,600 C400,700 500,600 600,700 C700,600 800,700 900,800 L900,0 L0,0 Z;
                    M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z
                  `})}),s.jsx("circle",{cx:"200",cy:"400",r:"250",fill:"white",opacity:"0.5",children:s.jsx("animate",{attributeName:"r",dur:"8s",values:"250;200;250",repeatCount:"indefinite"})})]})]})})})]})};export{f as default};
