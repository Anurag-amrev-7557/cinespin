import{g as $,f as Ee,R as D,e as Ae,r as P,j as p,A as U,m as L}from"./index-DVhI8atr.js";import{c as Se}from"./index-B6XGXrZw.js";import{I as be}from"./index-eogdd-6s.js";var Y={exports:{}},G,te;function Oe(){if(te)return G;te=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G=l,G}var W,re;function Ce(){if(re)return W;re=1;var l=Oe();function e(){}function i(){}return i.resetWarningCache=e,W=function(){function t(s,a,n,c,u,f){if(f!==l){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function o(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return r.PropTypes=r,r},W}var ne;function Pe(){return ne||(ne=1,Y.exports=Ce()()),Y.exports}var je=Pe();const y=$(je);var z,ae;function we(){if(ae)return z;ae=1;function l(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var e=Ee(),i=l(e);function t(a,n,c){return n in a?Object.defineProperty(a,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[n]=c,a}function o(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n}var r=!!(typeof window<"u"&&window.document&&window.document.createElement);function s(a,n,c){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof n!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof c<"u"&&typeof c!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function u(f){return f.displayName||f.name||"Component"}return function(d){if(typeof d!="function")throw new Error("Expected WrappedComponent to be a React component.");var T=[],g;function E(){g=a(T.map(function(A){return A.props})),S.canUseDOM?n(g):c&&(g=c(g))}var S=function(A){o(O,A);function O(){return A.apply(this,arguments)||this}O.peek=function(){return g},O.rewind=function(){if(O.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var h=g;return g=void 0,T=[],h};var j=O.prototype;return j.UNSAFE_componentWillMount=function(){T.push(this),E()},j.componentDidUpdate=function(){E()},j.componentWillUnmount=function(){var h=T.indexOf(this);T.splice(h,1),E()},j.render=function(){return i.createElement(d,this.props)},O}(e.PureComponent);return t(S,"displayName","SideEffect("+u(d)+")"),t(S,"canUseDOM",r),S}}return z=s,z}var Re=we();const xe=$(Re);var V,oe;function _e(){if(oe)return V;oe=1;var l=typeof Element<"u",e=typeof Map=="function",i=typeof Set=="function",t=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(r,s){if(r===s)return!0;if(r&&s&&typeof r=="object"&&typeof s=="object"){if(r.constructor!==s.constructor)return!1;var a,n,c;if(Array.isArray(r)){if(a=r.length,a!=s.length)return!1;for(n=a;n--!==0;)if(!o(r[n],s[n]))return!1;return!0}var u;if(e&&r instanceof Map&&s instanceof Map){if(r.size!==s.size)return!1;for(u=r.entries();!(n=u.next()).done;)if(!s.has(n.value[0]))return!1;for(u=r.entries();!(n=u.next()).done;)if(!o(n.value[1],s.get(n.value[0])))return!1;return!0}if(i&&r instanceof Set&&s instanceof Set){if(r.size!==s.size)return!1;for(u=r.entries();!(n=u.next()).done;)if(!s.has(n.value[0]))return!1;return!0}if(t&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(s)){if(a=r.length,a!=s.length)return!1;for(n=a;n--!==0;)if(r[n]!==s[n])return!1;return!0}if(r.constructor===RegExp)return r.source===s.source&&r.flags===s.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof s.valueOf=="function")return r.valueOf()===s.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof s.toString=="function")return r.toString()===s.toString();if(c=Object.keys(r),a=c.length,a!==Object.keys(s).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,c[n]))return!1;if(l&&r instanceof Element)return!1;for(n=a;n--!==0;)if(!((c[n]==="_owner"||c[n]==="__v"||c[n]==="__o")&&r.$$typeof)&&!o(r[c[n]],s[c[n]]))return!1;return!0}return r!==r&&s!==s}return V=function(s,a){try{return o(s,a)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},V}var Ie=_e();const Ne=$(Ie);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var X,ie;function Le(){if(ie)return X;ie=1;var l=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function t(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;var n=Object.getOwnPropertyNames(s).map(function(u){return s[u]});if(n.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(u){c[u]=u}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return X=o()?Object.assign:function(r,s){for(var a,n=t(r),c,u=1;u<arguments.length;u++){a=Object(arguments[u]);for(var f in a)e.call(a,f)&&(n[f]=a[f]);if(l){c=l(a);for(var d=0;d<c.length;d++)i.call(a,c[d])&&(n[c[d]]=a[c[d]])}}return n},X}var Me=Le();const Fe=$(Me);var N={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},m={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(m).map(function(l){return m[l]});var v={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},B={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},q={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},He=Object.keys(B).reduce(function(l,e){return l[B[e]]=e,l},{}),ke=[m.NOSCRIPT,m.SCRIPT,m.STYLE],w="data-react-helmet",De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},qe=function(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")},Ue=function(){function l(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,i,t){return i&&l(e.prototype,i),t&&l(e,t),e}}(),C=Object.assign||function(l){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t])}return l},Be=function(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(l,e):l.__proto__=e)},se=function(l,e){var i={};for(var t in l)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(l,t)&&(i[t]=l[t]);return i},$e=function(l,e){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:l},J=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return i===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ye=function(e){var i=F(e,m.TITLE),t=F(e,q.TITLE_TEMPLATE);if(t&&i)return t.replace(/%s/g,function(){return Array.isArray(i)?i.join(""):i});var o=F(e,q.DEFAULT_TITLE);return i||o||void 0},Ge=function(e){return F(e,q.ON_CHANGE_CLIENT_STATE)||function(){}},Q=function(e,i){return i.filter(function(t){return typeof t[e]<"u"}).map(function(t){return t[e]}).reduce(function(t,o){return C({},t,o)},{})},We=function(e,i){return i.filter(function(t){return typeof t[m.BASE]<"u"}).map(function(t){return t[m.BASE]}).reverse().reduce(function(t,o){if(!t.length)for(var r=Object.keys(o),s=0;s<r.length;s++){var a=r[s],n=a.toLowerCase();if(e.indexOf(n)!==-1&&o[n])return t.concat(o)}return t},[])},H=function(e,i,t){var o={};return t.filter(function(r){return Array.isArray(r[e])?!0:(typeof r[e]<"u"&&Qe("Helmet: "+e+' should be of type "Array". Instead found type "'+De(r[e])+'"'),!1)}).map(function(r){return r[e]}).reverse().reduce(function(r,s){var a={};s.filter(function(d){for(var T=void 0,g=Object.keys(d),E=0;E<g.length;E++){var S=g[E],A=S.toLowerCase();i.indexOf(A)!==-1&&!(T===v.REL&&d[T].toLowerCase()==="canonical")&&!(A===v.REL&&d[A].toLowerCase()==="stylesheet")&&(T=A),i.indexOf(S)!==-1&&(S===v.INNER_HTML||S===v.CSS_TEXT||S===v.ITEM_PROP)&&(T=S)}if(!T||!d[T])return!1;var O=d[T].toLowerCase();return o[T]||(o[T]={}),a[T]||(a[T]={}),o[T][O]?!1:(a[T][O]=!0,!0)}).reverse().forEach(function(d){return r.push(d)});for(var n=Object.keys(a),c=0;c<n.length;c++){var u=n[c],f=Fe({},o[u],a[u]);o[u]=f}return r},[]).reverse()},F=function(e,i){for(var t=e.length-1;t>=0;t--){var o=e[t];if(o.hasOwnProperty(i))return o[i]}return null},ze=function(e){return{baseTag:We([v.HREF,v.TARGET],e),bodyAttributes:Q(N.BODY,e),defer:F(e,q.DEFER),encode:F(e,q.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Q(N.HTML,e),linkTags:H(m.LINK,[v.REL,v.HREF],e),metaTags:H(m.META,[v.NAME,v.CHARSET,v.HTTPEQUIV,v.PROPERTY,v.ITEM_PROP],e),noscriptTags:H(m.NOSCRIPT,[v.INNER_HTML],e),onChangeClientState:Ge(e),scriptTags:H(m.SCRIPT,[v.SRC,v.INNER_HTML],e),styleTags:H(m.STYLE,[v.CSS_TEXT],e),title:Ye(e),titleAttributes:Q(N.TITLE,e)}},Z=function(){var l=Date.now();return function(e){var i=Date.now();i-l>16?(l=i,e(i)):setTimeout(function(){Z(e)},0)}}(),ce=function(e){return clearTimeout(e)},Ve=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Z:global.requestAnimationFrame||Z,Xe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ce:global.cancelAnimationFrame||ce,Qe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},k=null,Je=function(e){k&&Xe(k),e.defer?k=Ve(function(){le(e,function(){k=null})}):(le(e),k=null)},le=function(e,i){var t=e.baseTag,o=e.bodyAttributes,r=e.htmlAttributes,s=e.linkTags,a=e.metaTags,n=e.noscriptTags,c=e.onChangeClientState,u=e.scriptTags,f=e.styleTags,d=e.title,T=e.titleAttributes;K(m.BODY,o),K(m.HTML,r),Ze(d,T);var g={baseTag:M(m.BASE,t),linkTags:M(m.LINK,s),metaTags:M(m.META,a),noscriptTags:M(m.NOSCRIPT,n),scriptTags:M(m.SCRIPT,u),styleTags:M(m.STYLE,f)},E={},S={};Object.keys(g).forEach(function(A){var O=g[A],j=O.newTags,R=O.oldTags;j.length&&(E[A]=j),R.length&&(S[A]=g[A].oldTags)}),i&&i(),c(e,E,S)},me=function(e){return Array.isArray(e)?e.join(""):e},Ze=function(e,i){typeof e<"u"&&document.title!==e&&(document.title=me(e)),K(m.TITLE,i)},K=function(e,i){var t=document.getElementsByTagName(e)[0];if(t){for(var o=t.getAttribute(w),r=o?o.split(","):[],s=[].concat(r),a=Object.keys(i),n=0;n<a.length;n++){var c=a[n],u=i[c]||"";t.getAttribute(c)!==u&&t.setAttribute(c,u),r.indexOf(c)===-1&&r.push(c);var f=s.indexOf(c);f!==-1&&s.splice(f,1)}for(var d=s.length-1;d>=0;d--)t.removeAttribute(s[d]);r.length===s.length?t.removeAttribute(w):t.getAttribute(w)!==a.join(",")&&t.setAttribute(w,a.join(","))}},M=function(e,i){var t=document.head||document.querySelector(m.HEAD),o=t.querySelectorAll(e+"["+w+"]"),r=Array.prototype.slice.call(o),s=[],a=void 0;return i&&i.length&&i.forEach(function(n){var c=document.createElement(e);for(var u in n)if(n.hasOwnProperty(u))if(u===v.INNER_HTML)c.innerHTML=n.innerHTML;else if(u===v.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=n.cssText:c.appendChild(document.createTextNode(n.cssText));else{var f=typeof n[u]>"u"?"":n[u];c.setAttribute(u,f)}c.setAttribute(w,"true"),r.some(function(d,T){return a=T,c.isEqualNode(d)})?r.splice(a,1):s.push(c)}),r.forEach(function(n){return n.parentNode.removeChild(n)}),s.forEach(function(n){return t.appendChild(n)}),{oldTags:r,newTags:s}},Te=function(e){return Object.keys(e).reduce(function(i,t){var o=typeof e[t]<"u"?t+'="'+e[t]+'"':""+t;return i?i+" "+o:o},"")},Ke=function(e,i,t,o){var r=Te(t),s=me(i);return r?"<"+e+" "+w+'="true" '+r+">"+J(s,o)+"</"+e+">":"<"+e+" "+w+'="true">'+J(s,o)+"</"+e+">"},et=function(e,i,t){return i.reduce(function(o,r){var s=Object.keys(r).filter(function(c){return!(c===v.INNER_HTML||c===v.CSS_TEXT)}).reduce(function(c,u){var f=typeof r[u]>"u"?u:u+'="'+J(r[u],t)+'"';return c?c+" "+f:f},""),a=r.innerHTML||r.cssText||"",n=ke.indexOf(e)===-1;return o+"<"+e+" "+w+'="true" '+s+(n?"/>":">"+a+"</"+e+">")},"")},he=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(t,o){return t[B[o]||o]=e[o],t},i)},tt=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(t,o){return t[He[o]||o]=e[o],t},i)},rt=function(e,i,t){var o,r=(o={key:i},o[w]=!0,o),s=he(t,r);return[D.createElement(m.TITLE,s,i)]},nt=function(e,i){return i.map(function(t,o){var r,s=(r={key:o},r[w]=!0,r);return Object.keys(t).forEach(function(a){var n=B[a]||a;if(n===v.INNER_HTML||n===v.CSS_TEXT){var c=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[n]=t[a]}),D.createElement(e,s)})},I=function(e,i,t){switch(e){case m.TITLE:return{toComponent:function(){return rt(e,i.title,i.titleAttributes)},toString:function(){return Ke(e,i.title,i.titleAttributes,t)}};case N.BODY:case N.HTML:return{toComponent:function(){return he(i)},toString:function(){return Te(i)}};default:return{toComponent:function(){return nt(e,i)},toString:function(){return et(e,i,t)}}}},ye=function(e){var i=e.baseTag,t=e.bodyAttributes,o=e.encode,r=e.htmlAttributes,s=e.linkTags,a=e.metaTags,n=e.noscriptTags,c=e.scriptTags,u=e.styleTags,f=e.title,d=f===void 0?"":f,T=e.titleAttributes;return{base:I(m.BASE,i,o),bodyAttributes:I(N.BODY,t,o),htmlAttributes:I(N.HTML,r,o),link:I(m.LINK,s,o),meta:I(m.META,a,o),noscript:I(m.NOSCRIPT,n,o),script:I(m.SCRIPT,c,o),style:I(m.STYLE,u,o),title:I(m.TITLE,{title:d,titleAttributes:T},o)}},at=function(e){var i,t;return t=i=function(o){Be(r,o);function r(){return qe(this,r),$e(this,o.apply(this,arguments))}return r.prototype.shouldComponentUpdate=function(a){return!Ne(this.props,a)},r.prototype.mapNestedChildrenToProps=function(a,n){if(!n)return null;switch(a.type){case m.SCRIPT:case m.NOSCRIPT:return{innerHTML:n};case m.STYLE:return{cssText:n}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(a){var n,c=a.child,u=a.arrayTypeChildren,f=a.newChildProps,d=a.nestedChildren;return C({},u,(n={},n[c.type]=[].concat(u[c.type]||[],[C({},f,this.mapNestedChildrenToProps(c,d))]),n))},r.prototype.mapObjectTypeChildren=function(a){var n,c,u=a.child,f=a.newProps,d=a.newChildProps,T=a.nestedChildren;switch(u.type){case m.TITLE:return C({},f,(n={},n[u.type]=T,n.titleAttributes=C({},d),n));case m.BODY:return C({},f,{bodyAttributes:C({},d)});case m.HTML:return C({},f,{htmlAttributes:C({},d)})}return C({},f,(c={},c[u.type]=C({},d),c))},r.prototype.mapArrayTypeChildrenToProps=function(a,n){var c=C({},n);return Object.keys(a).forEach(function(u){var f;c=C({},c,(f={},f[u]=a[u],f))}),c},r.prototype.warnOnInvalidChildren=function(a,n){return!0},r.prototype.mapChildrenToProps=function(a,n){var c=this,u={};return D.Children.forEach(a,function(f){if(!(!f||!f.props)){var d=f.props,T=d.children,g=se(d,["children"]),E=tt(g);switch(c.warnOnInvalidChildren(f,T),f.type){case m.LINK:case m.META:case m.NOSCRIPT:case m.SCRIPT:case m.STYLE:u=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:u,newChildProps:E,nestedChildren:T});break;default:n=c.mapObjectTypeChildren({child:f,newProps:n,newChildProps:E,nestedChildren:T});break}}}),n=this.mapArrayTypeChildrenToProps(u,n),n},r.prototype.render=function(){var a=this.props,n=a.children,c=se(a,["children"]),u=C({},c);return n&&(u=this.mapChildrenToProps(n,u)),D.createElement(e,u)},Ue(r,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),r}(D.Component),i.propTypes={base:y.object,bodyAttributes:y.object,children:y.oneOfType([y.arrayOf(y.node),y.node]),defaultTitle:y.string,defer:y.bool,encodeSpecialCharacters:y.bool,htmlAttributes:y.object,link:y.arrayOf(y.object),meta:y.arrayOf(y.object),noscript:y.arrayOf(y.object),onChangeClientState:y.func,script:y.arrayOf(y.object),style:y.arrayOf(y.object),title:y.string,titleAttributes:y.object,titleTemplate:y.string},i.defaultProps={defer:!0,encodeSpecialCharacters:!0},i.peek=e.peek,i.rewind=function(){var o=e.rewind();return o||(o=ye({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),o},t},ot=function(){return null},it=xe(ze,Je,ye)(ot),ee=at(it);ee.renderStatic=ee.rewind;const ue="92b98feaab02d1088661e456c19edb89",fe="https://api.themoviedb.org/3",pe="https://image.tmdb.org/t/p",de=()=>p.jsxs("div",{className:"skeleton-card",children:[p.jsx("div",{className:"skeleton-img"}),p.jsx("div",{className:"skeleton-title"})]}),ut=()=>{const{id:l}=Ae(),[e,i]=P.useState(null),[t,o]=P.useState([]),[r,s]=P.useState([]),[a,n]=P.useState(!0),[c,u]=P.useState(null),[f,d]=P.useState(!1),[T,g]=P.useState(!1),[E,S]=P.useState("year"),[A,O]=P.useState("desc");P.useEffect(()=>{(async()=>{try{const[b,x]=await Promise.allSettled([fetch(`${fe}/person/${l}?api_key=${ue}`),fetch(`${fe}/person/${l}/movie_credits?api_key=${ue}`)]);if(b.status==="fulfilled"){const _=await b.value.json();i(_)}if(x.status==="fulfilled"){const _=await x.value.json();o(_.cast||[])}if(b.status==="rejected"||x.status==="rejected")throw new Error("Some details could not be fetched.")}catch(b){u(b.message)}finally{n(!1)}})()},[l]),P.useEffect(()=>{if(t.length>0){let h=[...t];const b=A==="asc"?1:-1;E==="year"?h.sort((x,_)=>{const ve=x.release_date?parseInt(x.release_date.slice(0,4)):-1/0,ge=_.release_date?parseInt(_.release_date.slice(0,4)):-1/0;return b*(ve-ge)}):E==="popularity"?h.sort((x,_)=>b*(_.popularity-x.popularity)):E==="rating"&&h.sort((x,_)=>b*(_.vote_average-x.vote_average)),s(h)}},[E,A,t]),P.useEffect(()=>{const h=b=>{f&&!b.target.closest(".filter-popup")&&!b.target.closest(".filter")&&d(!1),T&&!b.target.closest(".sort-popup")&&!b.target.closest(".sort")&&g(!1)};return document.addEventListener("click",h),()=>{document.removeEventListener("click",h)}},[f,T]);const j=h=>{S(h),g(!1)},R=h=>{h==="filter1"?O("asc"):h==="filter2"&&O("desc"),d(!1)};return p.jsxs(p.Fragment,{children:[p.jsxs(ee,{children:[p.jsx("title",{children:e?`${e.name} - Cast Details`:"Loading... | Cast Details"}),p.jsx("meta",{name:"description",content:`Explore movies and biography of ${(e==null?void 0:e.name)||"a popular cast member"} on our platform.`})]}),p.jsx(U,{children:c&&p.jsx(L.div,{className:"cast-details-error",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:p.jsxs("p",{children:["Error: ",c]})})}),p.jsxs(L.div,{className:"cast-details-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsx("div",{className:"cast-info",children:e?p.jsxs(p.Fragment,{children:[p.jsx("img",{src:e.profile_path?`${pe}/original${e.profile_path}`:"/default.png",alt:e.name||"Profile image"}),p.jsxs("div",{children:[p.jsx("h1",{children:e.name}),p.jsx("p",{children:e.biography||"No biography available."})]})]}):p.jsx(de,{})}),p.jsxs("div",{className:"cast-movies",children:[p.jsxs("div",{className:"sorting-container",children:[p.jsx("div",{className:"filter",onClick:()=>d(h=>!h),"aria-label":"Toggle filter options",children:p.jsx(Se,{})}),p.jsx("div",{className:"sort",onClick:()=>g(h=>!h),"aria-label":"Toggle sort options",children:p.jsx(be,{})})]}),p.jsx(U,{children:f&&p.jsxs(L.div,{className:"popup-menu filter-popup",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:300,damping:30},children:[p.jsx("p",{onClick:()=>R("filter1"),children:"Ascending Order"}),p.jsx("div",{className:"liner"}),p.jsx("p",{onClick:()=>R("filter2"),children:"Descending Order"})]})}),p.jsx(U,{children:T&&p.jsxs(L.div,{className:"popup-menu sort-popup",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:300,damping:30},children:[p.jsx("p",{onClick:()=>j("year"),children:"Sort by Year"}),p.jsx("div",{className:"liner"}),p.jsx("p",{onClick:()=>j("popularity"),children:"Sort by Popularity"}),p.jsx("div",{className:"liner"}),p.jsx("p",{onClick:()=>j("rating"),children:"Sort by Rating"})]})}),p.jsx(U,{children:p.jsx(L.div,{layout:!0,className:"movie-list",children:a?Array.from({length:8}).map((h,b)=>p.jsx(de,{},b)):r.length===0?p.jsx("p",{children:"No credits found."}):r.map(h=>p.jsxs(L.a,{layout:!0,className:"movie-card",href:`/movie/${h.id}`,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.5,ease:[.22,1,.36,1]},children:[p.jsx("img",{src:h.poster_path?`${pe}/original${h.poster_path}`:"/default.png",alt:h.title||"Movie poster",loading:"lazy"}),p.jsx("span",{children:h.title})]},`${h.id}-${h.credit_id}`))})})]})]})]})};export{ut as default};
