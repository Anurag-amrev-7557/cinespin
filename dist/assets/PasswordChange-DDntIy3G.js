import{r as i,u as b,j as s,H as P,m as r,L,K as S,M as k,N as E,Q as M}from"./index-DogQIOHc.js";import{b as u,c as x}from"./index-BTx339qk.js";const q=()=>{const[c,f]=i.useState(""),[o,g]=i.useState(""),[h,v]=i.useState(""),[n,l]=i.useState(""),[e,m]=i.useState(!1),[w,d]=i.useState(!1),C=b(),N=async t=>{if(t.preventDefault(),l(""),d(!0),!c||!o||!h){l("All fields are required."),d(!1);return}if(o!==h){l("New password and confirm password do not match."),d(!1);return}try{const p=S().currentUser,y=k.credential(p.email,c);await E(p,y),await M(p,o),C("/profile")}catch(j){console.log("Error: ",j),l("An error occurred while changing the password. Please try again.")}finally{d(!1)}},a={initial:{opacity:0,y:60},animate:{opacity:1,y:0,transition:{type:"spring",stiffness:350,damping:25,mass:1}},exit:{opacity:0,y:-60}};return s.jsxs(s.Fragment,{children:[s.jsxs(P,{children:[s.jsx("title",{children:"Change Password - Cinespin"}),s.jsx("meta",{name:"description",content:"Secure your Cinespin account by updating your password. Enter your current and new password to continue."})]}),s.jsxs("div",{className:"change-container",children:[s.jsx("div",{className:"form-section",children:s.jsxs(r.div,{className:"form-content",...a,children:[s.jsxs(r.h1,{className:"form-title",...a,children:[s.jsx("span",{className:"text-highlight",children:"Change"})," ",s.jsx("span",{className:"text-muted",children:"Password"})]}),s.jsx(r.div,{className:"form-subtitle",...a,children:s.jsx("p",{children:"Update your password"})}),s.jsx(r.form,{onSubmit:N,autoComplete:"on",noValidate:!0,...a,children:s.jsxs(r.div,{className:"form-group",...a,children:[s.jsxs(r.div,{className:"form-control",...a,children:[s.jsx("label",{htmlFor:"old-password",children:"Old Password"}),s.jsxs("div",{className:"password-container",children:[s.jsx("input",{id:"old-password",type:e?"text":"password",value:c,onChange:t=>f(t.target.value),required:!0,"aria-invalid":n?"true":"false"}),s.jsx("span",{className:"password-toggle",onClick:()=>m(!e),"aria-label":e?"Hide password":"Show password",children:e?s.jsx(u,{}):s.jsx(x,{})})]})]}),s.jsxs(r.div,{className:"form-control",...a,children:[s.jsx("label",{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"password-container",children:[s.jsx("input",{id:"new-password",type:e?"text":"password",value:o,onChange:t=>g(t.target.value),required:!0,"aria-invalid":n?"true":"false"}),s.jsx("span",{className:"password-toggle",onClick:()=>m(!e),"aria-label":e?"Hide password":"Show password",children:e?s.jsx(u,{}):s.jsx(x,{})})]})]}),s.jsxs(r.div,{className:"form-control",...a,children:[s.jsx("label",{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsxs("div",{className:"password-container",children:[s.jsx("input",{id:"confirm-password",type:e?"text":"password",value:h,onChange:t=>v(t.target.value),required:!0,"aria-invalid":n?"true":"false"}),s.jsx("span",{className:"password-toggle",onClick:()=>m(!e),"aria-label":e?"Hide password":"Show password",children:e?s.jsx(u,{}):s.jsx(x,{})})]})]}),n&&s.jsx("div",{className:"error-message",role:"alert",children:n}),s.jsxs(r.div,{className:"submit-container",...a,children:[s.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?"Changing password...":"Change Password"}),s.jsx("div",{className:"form-links",children:s.jsx(L,{to:"/profile",children:"Back to Profile"})})]})]})})]})}),s.jsx("div",{className:"pattern-section",children:s.jsx("div",{className:"pattern-svg",children:s.jsxs("svg",{viewBox:"0 0 400 800",xmlns:"http://www.w3.org/2000/svg",className:"pattern",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#1E293B"}),s.jsx("stop",{offset:"50%",stopColor:"#334155"}),s.jsx("stop",{offset:"100%",stopColor:"#475569"})]}),s.jsxs("mask",{id:"mask",x:"0",y:"0",width:"100%",height:"100%",children:[s.jsx("rect",{width:"100%",height:"100%",fill:"white"}),s.jsx("circle",{cx:"200",cy:"400",r:"250",fill:"black"})]})]}),s.jsxs("g",{mask:"url(#mask)",children:[s.jsx("path",{d:"M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z",fill:"url(#gradient)",children:s.jsx("animate",{attributeName:"d",dur:"12s",repeatCount:"indefinite",values:`
                      M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z;
                      M0,800 C100,600 200,700 300,600 C400,700 500,600 600,700 C700,600 800,700 900,800 L900,0 L0,0 Z;
                      M0,800 C100,700 200,600 300,700 C400,800 500,700 600,600 C700,500 800,600 900,700 L900,0 L0,0 Z
                    `})}),s.jsx("circle",{cx:"200",cy:"400",r:"250",fill:"white",opacity:"0.5",children:s.jsx("animate",{attributeName:"r",dur:"8s",values:"250;200;250",repeatCount:"indefinite"})})]})]})})})]})]})};export{q as default};
